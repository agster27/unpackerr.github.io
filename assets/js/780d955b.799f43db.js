"use strict";(self.webpackChunkunpackerrdox=self.webpackChunkunpackerrdox||[]).push([[565],{3418:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var t=s(4848),o=s(8453);const i={},r=void 0,d={id:"install/generated/webhook",title:"webhook",description:"Web Hooks",source:"@site/docs/install/generated/webhook.md",sourceDirName:"install/generated",slug:"/install/generated/webhook",permalink:"/docs/install/generated/webhook",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},l={},c=[{value:"Web Hooks",id:"web-hooks",level:2},{value:"Web Hooks Notes",id:"web-hooks-notes",level:3}];function a(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"web-hooks",children:"Web Hooks"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsxs)("summary",{children:["Examples. Prefix: ",(0,t.jsx)("b",{children:"UN_WEBHOOK_"}),", Header: ",(0,t.jsx)("b",{children:"[[webhook]]"})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Using the config file:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'################\n### Webhooks ###\n################\n# Sends a webhook when an extraction queues, starts, finishes, and/or is deleted.\n# Created to integrate with notifiarr.com.\n# Also works natively with Discord.com, Telegram.org, and Slack.com webhooks.\n# Can possibly be used with other services by providing a custom template_path.\n###### Don\'t forget to uncomment [[webhook]] and url at a minimum !!!!\n[[webhook]]\n url = "https://notifiarr.com/api/v1/notification/unpackerr/api_key_from_notifiarr_com"\n## Provide an optional name to hide the URL in logs.\n## If a name is not provided then the URL is used.\n name = ""\n## Do not log success (less log spam).\n silent = false\n## List of event ids to send notification for, [0] for all.\n## The default is [0] and this is an example:\n events = [1, 4, 6]\n## ===> Advanced Optional Webhook Configuration <===\n## Used in Discord and Slack templates as bot name, in Telegram as chat_id.\n nickname = "Unpackerr"\n## Also passed into templates. Used in Slack templates for destination channel.\n channel = ""\n## List of apps to exclude. None by default. This is an example:\n exclude = ["readarr", "lidarr"]\n## Override internal webhook template for discord.com or other hooks.\n template_path = \'\'\n## Override automatic template detection. Values: notifiarr, discord, telegram, gotify, pushover, slack\n template = ""\n## Set this to true to ignore the SSL certificate on the server.\n ignore_ssl = false\n## You can adjust how long to wait for a server response.\n timeout = "10s"\n## If your custom template uses another MIME type, set this.\n content_type = "application/json"\n'})}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Using environment variables:"}),"\n"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"## Web Hooks\nUN_WEBHOOK_0_URL=https://notifiarr.com/api/v1/notification/unpackerr/api_key_from_notifiarr_com\nUN_WEBHOOK_0_NAME=\nUN_WEBHOOK_0_SILENT=false\nUN_WEBHOOK_0_EVENTS_0=1\nUN_WEBHOOK_0_EVENTS_1=4\nUN_WEBHOOK_0_EVENTS_2=6\nUN_WEBHOOK_0_NICKNAME=Unpackerr\nUN_WEBHOOK_0_CHANNEL=\nUN_WEBHOOK_0_EXCLUDE_0=readarr\nUN_WEBHOOK_0_EXCLUDE_1=lidarr\nUN_WEBHOOK_0_TEMPLATE_PATH=\nUN_WEBHOOK_0_TEMPLATE=\nUN_WEBHOOK_0_IGNORE_SSL=false\nUN_WEBHOOK_0_TIMEOUT=10s\nUN_WEBHOOK_0_CONTENT_TYPE=application/json\n"})})]}),"\n",(0,t.jsxs)(n.p,{children:["This application can send a ",(0,t.jsx)(n.code,{children:"POST"})," webhook to a URL when an extraction begins, and again\nwhen it finishes. Configure 1 or more webhook URLs with the parameters below.\nWorks great with ",(0,t.jsx)(n.a,{href:"https://notifiarr.com",children:"notifiarr.com"}),". You can use\n",(0,t.jsx)(n.a,{href:"https://requestbin.com/r/",children:"requestbin.com"})," to test and ",(0,t.jsx)(n.em,{children:"see"})," the payload."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Config Name"}),(0,t.jsx)(n.th,{children:"Variable Name"}),(0,t.jsx)(n.th,{children:"Default / Note"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"url"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_URL"})}),(0,t.jsx)(n.td,{children:"No Default / URL to send POST webhook to."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"name"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_NAME"})}),(0,t.jsx)(n.td,{children:"No Default / Provide an optional name to hide the URL in logs."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"silent"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_SILENT"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"false"})," / Hide successful POSTs from logs."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"events"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_EVENTS_0"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"[0]"})," / List of event ids to send notification for, ",(0,t.jsx)(n.code,{children:"0"})," for all."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"nickname"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_NICKNAME"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:'"Unpackerr"'})," / Passed into templates for telegram, discord and slack hooks."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"channel"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_CHANNEL"})}),(0,t.jsx)(n.td,{children:"No Default / Passed into templates for slack.com webhooks."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"exclude"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_EXCLUDE_0"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"[]"})," / List of apps to exclude: radarr, sonarr, folders, etc."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"template_path"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_TEMPLATE_PATH"})}),(0,t.jsx)(n.td,{children:"No Default / Instead of an internal template, provide your own."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"template"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_TEMPLATE"})}),(0,t.jsx)(n.td,{children:"No Default / Instead of auto template selection, force a built-in template."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ignore_ssl"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_IGNORE_SSL"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"false"})," / Ignore invalid SSL certificates."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"timeout"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_TIMEOUT"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:'"10s"'})," / How long to wait for server response."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"content_type"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"UN_WEBHOOK_CONTENT_TYPE"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:'"application/json"'})," / Content-Type header sent to webhook."]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"web-hooks-notes",children:"Web Hooks Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.code,{children:"Nickname"})," should equal the ",(0,t.jsx)(n.code,{children:"chat_id"})," value in Telegram webhooks."]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.code,{children:"Channel"})," is used as destination channel for Slack. It's not used in others."]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.code,{children:"Nickname"})," and ",(0,t.jsx)(n.code,{children:"Channel"})," may be used as custom values in custom templates."]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.code,{children:"Name"})," is only used in logs, but it's also available as a template value as ",(0,t.jsx)(n.code,{children:"{{name}}"}),"."]})}),"\n",(0,t.jsxs)(n.li,{children:["Built-In Templates: ",(0,t.jsx)(n.code,{children:"pushover"}),", ",(0,t.jsx)(n.code,{children:"telegram"}),", ",(0,t.jsx)(n.code,{children:"discord"}),", ",(0,t.jsx)(n.code,{children:"notifiarr"}),", ",(0,t.jsx)(n.code,{children:"slack"}),", ",(0,t.jsx)(n.code,{children:"gotify"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var t=s(6540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);